---
layout: post
title: "AWS Technical Essentials"
comments: true
description: "Key Concepts for AWS Technical Essentials"
keywords: "Global Infra, EC2, VPC, S3, EBS, IAM, RDS, DynamoDB, ELB, CloudWatch, Auto Scaling, Trusted Advisor"
---

# AWS Technical Essentials(1 day class)<br/>
간단 후기 - **짧은 시간**(정말 짧음ㅋ)안에 AWS의 CoreService에 대한 Concept과 Configuration을 알 수 있다.<br/>

오늘은 배운 개념들에 대한 간단한 Concept Note만 한다.<br/>
각 Service에 대해 Deep하게 다루는 것은 다음 시간에 따로 정리할 예정.
<div class="divider"></div>

## 1.Global Infrastructure
>Region : '일반적으로' 2개 이상의 AZ를 갖고 있는 집합.(Osaka Region은 Tokyo Region의 DR 목적으로써 존재하고 있음.)<br/>
>Availability Zone : 1개 이상의 Data Center. 1개만을 가리키는 용어가 아님에 주의.<br/>
>Edge Location : 'Cache Server'. CDN, DNS, WAF, Shield와 같은 기능을 위해 존재. Regional Edge Cache는 만료 기간이 길어서 잘 바뀌지 않는 자료를 캐싱할 때 사용.

<div class="divider"></div>

## 2.Elastic Compute Cloud(EC2)

>EC2 : Amazon Web Service에서 제공하는 클라우드 컴퓨터. 한 대의 EC2 인스턴스를 만들기 위해, CPU, Storage, Tag, VPC 등을 configure 해야 한다.<br/>
>AMI : Amazon Machine Image. EC2 생성을 위한 Configuration의 image. AMI가 있어야 Auto Scale도 할 수 있고, 좀 더 빠른 EC2 인스턴스의 프로비저닝도 가능하다. Template을 download 받거나, 좋은 AMI를 만들어서 marketplace에서 판매하는 것도 가능하다.<br/>
>Instance : EC2 자원의 단위. EC2를 사용하기 위해 빌리는 자원을 measure 하기 위한 단위.<br/>

+ EC2 생성 전에 VPC가 구성되어 있어야 한다. (AWS에서는 기본적으로 Default VPC를 제공하기 때문에 바로 Provisioning할 수 있었떤 것!)
+ EC2에 EBS를 부착할 경우, 같은 AZ에 존재해야 한다.
+ EC2를 Stop하면, EBS에 대한 Storage 요금만 청구된다.
+ Instance의 정보를 보고싶다면, http://169.254.169.254/meta-data 를 통해서 meata data를 살펴보거나, /user-data로 들어가서 user-data를 살펴볼 수 있다.
![meta&userdata on ec2](https://raw.githubusercontent.com/VanillaCreamColdBrew/VanillaCreamColdBrew.github.io/master/image/ec2-metadata-userdata.jpg)

</br>
+ EC2를 그냥 생성하면 default subnet setting이 private이라서 접근이 불가능하고, Public IP 할당을 받지 못한다. 그러므로 SG에 접근하여 *Inbound rule* 을 허용해야 한다!
+ 기존에 EC2 생성 시, CPU Cluster에 대한 Customizing은 CLI를 통해서만 가능했는데, 최근 Console에서도 *생성 시에만* Computing resource를 특정하여 고를 수 있다. T-series에서는 선택이 불가능하고, 특정 type만 가능한 것으로 앎.(특정 인스턴스 유형 기재 필요.)
<div class="divider"></div>
#### [요금 정책] <br/>

 + Amazon EC2는 기본적으로 On-Demand를 채택하고 있으나, 저렴한 비용으로 사용할 수 있게 다양한 요금제를 제공한다.
 + Amazon EC2 스팟 인스턴스 - 할당되지 않은 Instance에 한해 bidding 형식으로 저렴한 가격에 Instance를 시작할 수 있다. 가격이 실시간으로 오르내리는데, 스팟으로 구매한 인스턴스의 가격보다 AZ의 해당 유형 Instance 가격이 비쌀 경우, Instance는 notification을 받고 2분 뒤 terminate이 된다.
 + Amazon EC2 예약 인스턴스 - Reserved Instance는 특정 기간 동안 Instance에 대한 사용 계약을 맺고, On-Demand에 비하여 획기적으로 절감된 비용으로 EC2 자원을 활용하는 방법입니다. 조직에서 보유할 수 있는 예약 인스턴스 수는 제한되어 있습니다. 각 리전에 대해 20개의 리전 예약 인스턴스와, 각 가용 영역에 대해 달마다 추가로 20개의 영역 예약 인스턴스를 구입할 수 있습니다.
 + Amazon EC2 전용 호스팅 - 물리적인 단위의 서버를 Provisioning해서 자원을 사용. 가격은 On-demand에 비해 저렴.
 + Amazon EC2 전용 인스턴스 - 논리적 단위로 인스턴스 사용. 물리적인 단위로 사용하는 것이 아니기 떄문에, 코어나 스레드 단의 커스터마이징이 어렵다.<br/>

<div class="divider"></div>

## 3. VPC(Virtual Private Cloud)

>VPC : On-Premise 환경에서 구축해서 사용했던 DC를 가상으로 구축하여 사용하는 것이다. 기본 설정으로 생성하면 Routing Inbound rule이 *할당한 Private IP(ex-10.0.0.0/16) local* 이라서 외부에서 접근이 불가능하다. Subnetting을 통하여 Public, Private 자원 접근 통제를 할 수 있으며, 특정 IP는 AWS에서 예약해놓기 떄문에(5개) IP 할당 시 고려해서 진행해야한다.
>Subnet : VPC에 할당한 IP를 그대로 사용하면 접근에 대한 체계를 잡기가 어려울 뿐더러, 보안 위협에 취약할 가능성이 있다. 그래서 IP address를 그룹화하여 사용하는데, 그것이 바로 subnet이다. CIDR 방식을 이용하여 구분.
>Route : GW에서 들어오는 traffic을 어디로 보낼지 규칙을 정하는 것.
>GateWay : 서버나 DB의 IP를 public으로 제공하지 않고, private subnet을 구성해서 이를 외부로부터 감추는 것은 보안 상 필요한 작업이다. 이 때 각 트래픽이 외부와 통신하는 방법이 GW이다. Route rule에 따라서 인터넷과 통신할 수 있다.

+ VPC Architecture에 대한 이해가 Cloud Architecture를 시작하기 위한 first step.
+ VPC가 없으면 EC2도 생성할 수 없다.(예전에는 가능했지만 지금은 불가.)
**VPC Architecture의 가장 기본적인 예시**
![meta&userdata on ec2](https://raw.githubusercontent.com/VanillaCreamColdBrew/VanillaCreamColdBrew.github.io/master/image/vpc-architecture.png)


<div class="divider"></div>

<div class="divider"></div>

<div class="divider"></div>

<div class="divider"></div>

## Headings H1 to H6

# H1 Heading

## H2 Heading

### H3 Heading

#### H4 Heading

##### H5 Heading

###### H6 Heading

<div class="divider"></div>

## Footnote

Let's say you have text that you want to refer with a footnote, you can do that too! This is an example for the footnote number one [[^1]]. You can even add more footnotes, with link! [[^2]]

<div class="divider"></div>

## Blockquote

> Start by doing what's necessary; then do what's possible; and suddenly you are doing the impossible. --Francis of Assisi

**NOTE:** This theme does NOT support nested blockquotes.

<div class="divider"></div>

## List Items

1. First order list item
2. Second item

* Unordered list can use asterisks
- Or minuses
+ Or pluses

<div class="divider"></div>

## Code Blocks

```javascript
var modularpattern = (function() {
    // your module code goes here
    var sum = 0 ;

    return {
        add:function() {
            sum = sum + 1;
            return sum;
        },
        reset:function() {
            return sum = 0;    
        }  
    }   
}());
alert(modularpattern.add());    // alerts: 1
alert(modularpattern.add());    // alerts: 2
alert(modularpattern.reset());  // alerts: 0
```

```python
s = "Python syntax highlighting"
print s
```

```
No language indicated, so no syntax highlighting.
But let's throw in a <b>tag</b>.
```

<div class="divider"></div>

## Table

### Table 1: With Alignment

| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

### Table 2: With Typography Elements

Markdown | Less | Pretty
--- | --- | ---
*Still* | `renders` | **nicely**
1 | 2 | 3

<div class="divider"></div>

## Horizontal Line

The HTML `<hr>` element is for creating a "thematic break" between paragraph-level elements. In markdown, you can create a `<hr>` with any of the following:

* `___`: three consecutive underscores
* `---`: three consecutive dashes
* `***`: three consecutive asterisks

renders to:

___

---

***

<div class="divider"></div>

## Media

### YouTube Embedded Iframe

<div class="video-container"><iframe src="https://www.youtube.com/embed/n1a7o44WxNo" frameborder="0" allowfullscreen></iframe></div>

### Image

![Minion](http://octodex.github.com/images/minion.png)

---
Footnote:

[^1]: 1: Footnote number one yeah baby!

[^2]: 2: A footnote you can link to - [click here!](#)
